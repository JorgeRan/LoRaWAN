sudo raspi-config nonint set_config_var dtparam=spi on /boot/firmware/config.txt

sudo raspi-config nonint set_config_var dtparam=i2c_arm on /boot/firmware/config.txt

sudo sed -i -e '/^\s*#\?\s*dtoverlay\s*=\s*vc4-kms-v3d/! s/^\s*#\?\s*(dtoverlay|dtparam\s*=\s*uart0)\s*=.*/dtoverlay=spi0-0cs/' /boot/firmware/config.txt

if ! sudo grep -q '^\s*dtoverlay=spi0-0cs' /boot/firmware/config.txt; then
    sudo sed -i '/^\s*dtparam=spi=on/a dtoverlay=spi0-0cs' /boot/firmware/config.txt
fi

sudo raspi-config nonint do_serial_hw 0

sudo raspi-config nonint do_serial_cons 1

sudo reboot

sudo apt install ./meshtasticd_2.3.10.d19607b_arm64.deb

sudo nano /etc/meshtasticd/config.yaml

(file is space sensitive - leave alone)
Uncomment sx1262 lines
Uncomment serial path line for gps
Change required loglevel setting to "debug"
Uncomment webserver lines

sudo systemctl enable meshtasticd --now

journalctl -u meshtasticd -f           (to monitor debug info)

point webbrowser to url of pi:    https://raspi
(ip address doesn't work - you must use the hostname)

